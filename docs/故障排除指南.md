# Carrot YARN æ•…éšœæ’é™¤æŒ‡å—

æœ¬æ–‡æ¡£æä¾› Carrot YARN å¸¸è§é—®é¢˜çš„è¯Šæ–­å’Œè§£å†³æ–¹æ¡ˆã€‚

## ğŸ“‹ ç›®å½•

- [é€šç”¨æ•…éšœæ’é™¤](#é€šç”¨æ•…éšœæ’é™¤)
- [ResourceManager é—®é¢˜](#resourcemanager-é—®é¢˜)
- [NodeManager é—®é¢˜](#nodemanager-é—®é¢˜)
- [ApplicationMaster é—®é¢˜](#applicationmaster-é—®é¢˜)
- [ç½‘ç»œé—®é¢˜](#ç½‘ç»œé—®é¢˜)
- [æ€§èƒ½é—®é¢˜](#æ€§èƒ½é—®é¢˜)
- [ç›‘æ§é—®é¢˜](#ç›‘æ§é—®é¢˜)
- [å®‰å…¨é—®é¢˜](#å®‰å…¨é—®é¢˜)
- [éƒ¨ç½²é—®é¢˜](#éƒ¨ç½²é—®é¢˜)
- [è¯Šæ–­å·¥å…·](#è¯Šæ–­å·¥å…·)

## ğŸ”§ é€šç”¨æ•…éšœæ’é™¤

### é—®é¢˜è¯Šæ–­æµç¨‹

```mermaid
flowchart TD
    A[å‘ç°é—®é¢˜] --> B[æ”¶é›†æ—¥å¿—]
    B --> C[æ£€æŸ¥é…ç½®]
    C --> D[éªŒè¯ç½‘ç»œ]
    D --> E[æ£€æŸ¥èµ„æº]
    E --> F[åˆ†æé”™è¯¯]
    F --> G[åº”ç”¨è§£å†³æ–¹æ¡ˆ]
    G --> H[éªŒè¯ä¿®å¤]
    H --> I{é—®é¢˜è§£å†³?}
    I -->|æ˜¯| J[è®°å½•è§£å†³æ–¹æ¡ˆ]
    I -->|å¦| K[å‡çº§å¤„ç†]
    K --> L[è”ç³»æ”¯æŒ]
```

### å¿«é€Ÿæ£€æŸ¥æ¸…å•

-   [ ] æ£€æŸ¥æ‰€æœ‰ç»„ä»¶æ˜¯å¦æ­£åœ¨è¿è¡Œ
-   [ ] éªŒè¯ç½‘ç»œè¿æ¥
-   [ ] æ£€æŸ¥ç£ç›˜ç©ºé—´
-   [ ] æŸ¥çœ‹æœ€æ–°çš„é”™è¯¯æ—¥å¿—
-   [ ] éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
-   [ ] æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
-   [ ] éªŒè¯æƒé™è®¾ç½®

### æ—¥å¿—æ”¶é›†

#### åŸºæœ¬æ—¥å¿—ä½ç½®

```bash
# é»˜è®¤æ—¥å¿—ç›®å½•
/var/log/carrot/

# ç»„ä»¶æ—¥å¿—æ–‡ä»¶
/var/log/carrot/resourcemanager.log
/var/log/carrot/rmnm.log
/var/log/carrot/applicationmaster.log

# å®¹å™¨æ—¥å¿—
/var/log/carrot/containers/
```

#### æ—¥å¿—æ”¶é›†è„šæœ¬

```bash
#!/bin/bash
# collect-logs.sh

LOG_DIR="/var/log/carrot"
OUTPUT_DIR="/tmp/carrot-logs-$(date +%Y%m%d-%H%M%S)"

mkdir -p "$OUTPUT_DIR"

# æ”¶é›†ç»„ä»¶æ—¥å¿—
cp -r "$LOG_DIR"/* "$OUTPUT_DIR/"

# æ”¶é›†ç³»ç»Ÿä¿¡æ¯
echo "=== System Information ===" > "$OUTPUT_DIR/system-info.txt"
uname -a >> "$OUTPUT_DIR/system-info.txt"
free -h >> "$OUTPUT_DIR/system-info.txt"
df -h >> "$OUTPUT_DIR/system-info.txt"

# æ”¶é›†è¿›ç¨‹ä¿¡æ¯
echo "=== Process Information ===" > "$OUTPUT_DIR/process-info.txt"
ps aux | grep carrot >> "$OUTPUT_DIR/process-info.txt"

# æ”¶é›†ç½‘ç»œä¿¡æ¯
echo "=== Network Information ===" > "$OUTPUT_DIR/network-info.txt"
netstat -tuln >> "$OUTPUT_DIR/network-info.txt"

# æ‰“åŒ…æ—¥å¿—
tar -czf "carrot-logs-$(date +%Y%m%d-%H%M%S).tar.gz" -C /tmp "$(basename "$OUTPUT_DIR")"

echo "Logs collected in: carrot-logs-$(date +%Y%m%d-%H%M%S).tar.gz"
```

## ğŸ¢ ResourceManager é—®é¢˜

### å¯åŠ¨å¤±è´¥

#### ç—‡çŠ¶

- ResourceManager è¿›ç¨‹æ— æ³•å¯åŠ¨
- å¯åŠ¨åç«‹å³é€€å‡º
- ç«¯å£ç»‘å®šå¤±è´¥

#### å¸¸è§åŸå› å’Œè§£å†³æ–¹æ¡ˆ

**ç«¯å£å·²è¢«å ç”¨**

```bash
# æ£€æŸ¥ç«¯å£ä½¿ç”¨æƒ…å†µ
netstat -tuln | grep 8088
lsof -i :8088

# åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo kill -9 <PID>

# æˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£
vim config.yaml
# resourcemanager.rmserver.port: 8089
```

**æƒé™ä¸è¶³**

```bash
# æ£€æŸ¥ç›®å½•æƒé™
ls -la /var/log/carrot/
ls -la /var/lib/carrot/

# è®¾ç½®æ­£ç¡®æƒé™
sudo chown -R carrot:carrot /var/log/carrot/
sudo chown -R carrot:carrot /var/lib/carrot/
sudo chmod 755 /var/log/carrot/
sudo chmod 755 /var/lib/carrot/
```

**å†…å­˜ä¸è¶³**

```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -h

# è°ƒæ•´ JVM å †å¤§å°
export RM_HEAP_SIZE=2048m

# æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®
vim config.yaml
# jvm:
#   heap_size: "2048m"
```

### åº”ç”¨ç¨‹åºè°ƒåº¦é—®é¢˜

#### ç—‡çŠ¶

- åº”ç”¨ç¨‹åºé•¿æ—¶é—´å¤„äº ACCEPTED çŠ¶æ€
- åº”ç”¨ç¨‹åºè°ƒåº¦å¤±è´¥
- èµ„æºåˆ†é…å¼‚å¸¸

#### è¯Šæ–­æ­¥éª¤

```bash
# æ£€æŸ¥é›†ç¾¤èµ„æº
curl http://localhost:8088/api/v1/cluster/metrics

# æ£€æŸ¥é˜Ÿåˆ—çŠ¶æ€
curl http://localhost:8088/api/v1/scheduler

# æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€
curl http://localhost:8088/api/v1/nodes

# æŸ¥çœ‹è°ƒåº¦å™¨æ—¥å¿—
grep -i "scheduler" /var/log/carrot/resourcemanager.log
```

#### è§£å†³æ–¹æ¡ˆ

**èµ„æºä¸è¶³**

```bash
# æ£€æŸ¥é›†ç¾¤æ€»èµ„æº
curl http://localhost:8088/api/v1/cluster/metrics | jq '.data.memory_available'

# å¢åŠ èŠ‚ç‚¹æˆ–è°ƒæ•´èµ„æºé…ç½®
vim rmnm-config.yaml
# resources:
#   memory: 16384
#   vcores: 16
```

**é˜Ÿåˆ—é…ç½®é—®é¢˜**

```xml
<!-- æ£€æŸ¥ capacity-scheduler.xml -->
<property>
  <name>yarn.scheduler.capacity.root.default.capacity</name>
  <value>100</value> <!-- ç¡®ä¿æœ‰è¶³å¤Ÿå®¹é‡ -->
</property>
```

### èŠ‚ç‚¹è¿æ¥é—®é¢˜

#### ç—‡çŠ¶

- èŠ‚ç‚¹æ— æ³•æ³¨å†Œåˆ° ResourceManager
- èŠ‚ç‚¹å¿ƒè·³ä¸¢å¤±
- èŠ‚ç‚¹çŠ¶æ€å¼‚å¸¸

#### è¯Šæ–­å‘½ä»¤

```bash
# æ£€æŸ¥èŠ‚ç‚¹è¿æ¥
curl http://localhost:8088/api/v1/nodes

# æµ‹è¯•ç½‘ç»œè¿æ¥
telnet <rm-host> 8088

# æ£€æŸ¥é˜²ç«å¢™
sudo iptables -L | grep 8088
sudo ufw status
```

## ğŸ–¥ï¸ NodeManager é—®é¢˜

### å®¹å™¨å¯åŠ¨å¤±è´¥

#### ç—‡çŠ¶

- å®¹å™¨æ— æ³•å¯åŠ¨
- å®¹å™¨å¯åŠ¨åç«‹å³é€€å‡º
- å®¹å™¨èµ„æºé™åˆ¶é”™è¯¯

#### å¸¸è§åŸå› å’Œè§£å†³æ–¹æ¡ˆ

**ç£ç›˜ç©ºé—´ä¸è¶³**

```bash
# æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
sudo rm -rf /tmp/carrot-*

# æ¸…ç†å®¹å™¨ç¼“å­˜
sudo rm -rf /var/lib/carrot/cache/*

# é…ç½®è‡ªåŠ¨æ¸…ç†
vim config.yaml
# rmnm:
#   containers:
#     cleanup_interval: "10m"
```

**èµ„æºé™åˆ¶é—®é¢˜**

```bash
# æ£€æŸ¥ç³»ç»Ÿèµ„æºé™åˆ¶
ulimit -a

# è®¾ç½®æ›´é«˜çš„é™åˆ¶
ulimit -n 65536
ulimit -u 32768

# æ°¸ä¹…è®¾ç½®
echo "* soft nofile 65536" >> /etc/security/limits.conf
echo "* hard nofile 65536" >> /etc/security/limits.conf
```

**ç”¨æˆ·æƒé™é—®é¢˜**

```bash
# æ£€æŸ¥å®¹å™¨ç”¨æˆ·
id carrot

# åˆ›å»ºç”¨æˆ·
sudo useradd -r -s /bin/false carrot

# è®¾ç½®ç”¨æˆ·æƒé™
sudo usermod -a -G docker carrot
```

### å¿ƒè·³è¶…æ—¶

#### ç—‡çŠ¶

- NodeManager åœ¨ ResourceManager ä¸­æ˜¾ç¤ºä¸º LOST
- å¿ƒè·³è¿æ¥é¢‘ç¹æ–­å¼€

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥ç½‘ç»œå»¶è¿Ÿ
ping <rm-host>

# è°ƒæ•´å¿ƒè·³é…ç½®
vim config.yaml
# rmnm:
#   resourcemanager:
#     heartbeat_interval: "3s"
#     heartbeat_timeout: "30s"

# æ£€æŸ¥æ—¶é’ŸåŒæ­¥
ntpdate -q pool.ntp.org
```

### æœ¬åœ°åŒ–å¤±è´¥

#### ç—‡çŠ¶

- åº”ç”¨ç¨‹åºä¾èµ–ä¸‹è½½å¤±è´¥
- æœ¬åœ°åŒ–è¶…æ—¶é”™è¯¯

#### è¯Šæ–­å’Œè§£å†³

```bash
# æ£€æŸ¥æœ¬åœ°åŒ–ç›®å½•æƒé™
ls -la /var/lib/carrot/cache/

# æµ‹è¯•ä¸‹è½½è¿æ¥
wget <dependency-url>

# è°ƒæ•´æœ¬åœ°åŒ–é…ç½®
vim config.yaml
# rmnm:
#   localizer:
#     download_timeout: "30m"
#     concurrent_downloads: 10
```

## ğŸ“± ApplicationMaster é—®é¢˜

### AM å®¹å™¨åˆ†é…å¤±è´¥

#### ç—‡çŠ¶

- ApplicationMaster å®¹å™¨æ— æ³•åˆ†é…
- åº”ç”¨ç¨‹åºåœç•™åœ¨ SUBMITTED çŠ¶æ€

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥ AM èµ„æºè¦æ±‚
curl http://localhost:8088/api/v1/applications/<app-id>

# æ£€æŸ¥é›†ç¾¤å¯ç”¨èµ„æº
curl http://localhost:8088/api/v1/cluster/metrics

# è°ƒæ•´ AM èµ„æºè¦æ±‚
vim application-spec.json
# {
#   "am_container_spec": {
#     "resource": {
#       "memory": 512,
#       "vcores": 1
#     }
#   }
# }
```

### AM æ³¨å†Œå¤±è´¥

#### ç—‡çŠ¶

- ApplicationMaster æ— æ³•å‘ ResourceManager æ³¨å†Œ
- AM å¯åŠ¨åç«‹å³å¤±è´¥

#### è¯Šæ–­æ­¥éª¤

```bash
# æ£€æŸ¥ AM æ—¥å¿—
docker logs <am-container-id>

# æµ‹è¯• RM è¿æ¥
telnet <rm-host> 8088

# æ£€æŸ¥è®¤è¯é…ç½®
curl -H "Authorization: Bearer <token>" \
  http://localhost:8088/api/v1/cluster/info
```

### å®¹å™¨è¯·æ±‚å¤±è´¥

#### ç—‡çŠ¶

- AM æ— æ³•è·å¾—æ‰€éœ€å®¹å™¨
- å®¹å™¨åˆ†é…è¶…æ—¶

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥èµ„æºè¯·æ±‚æ˜¯å¦åˆç†
# ç¡®ä¿è¯·æ±‚çš„èµ„æºä¸è¶…è¿‡èŠ‚ç‚¹å®¹é‡

# è°ƒæ•´æ”¾ç½®çº¦æŸ
vim am-config.yaml
# placement_constraints:
#   node_affinity:
#     required: false
#   locality_delay: 3
```

## ğŸŒ ç½‘ç»œé—®é¢˜

### è¿æ¥è¶…æ—¶

#### ç—‡çŠ¶

- ç»„ä»¶é—´é€šä¿¡è¶…æ—¶
- API è¯·æ±‚å¤±è´¥

#### è¯Šæ–­å·¥å…·

```bash
# æµ‹è¯•ç«¯å£è¿é€šæ€§
nc -zv <host> <port>

# æ£€æŸ¥è·¯ç”±
traceroute <host>

# ç›‘æ§ç½‘ç»œæµé‡
tcpdump -i any port 8088

# æ£€æŸ¥ DNS è§£æ
nslookup <hostname>
```

#### è§£å†³æ–¹æ¡ˆ

```bash
# è°ƒæ•´è¶…æ—¶é…ç½®
vim config.yaml
# network:
#   timeout:
#     connect: "60s"
#     read: "60s"
#     write: "60s"

# æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
sudo iptables -L
sudo ufw status

# å¼€æ”¾å¿…è¦ç«¯å£
sudo ufw allow 8088
sudo ufw allow 8042
sudo ufw allow 8080
```

### è´Ÿè½½å‡è¡¡é—®é¢˜

#### ç—‡çŠ¶

- è¯·æ±‚åˆ†å¸ƒä¸å‡
- æŸäº›èŠ‚ç‚¹è¿‡è½½

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥è´Ÿè½½å‡è¡¡é…ç½®
vim lb-config.conf

# ç›‘æ§è¯·æ±‚åˆ†å¸ƒ
curl http://localhost:8088/api/v1/nodes | \
  jq '.data.nodes[] | {node_id, num_containers}'

# è°ƒæ•´è´Ÿè½½å‡è¡¡ç­–ç•¥
# é…ç½®è½®è¯¢ã€æœ€å°‘è¿æ¥æˆ–å…¶ä»–ç­–ç•¥
```

## ğŸš€ æ€§èƒ½é—®é¢˜

### é«˜å»¶è¿Ÿ

#### ç—‡çŠ¶

- åº”ç”¨ç¨‹åºå¯åŠ¨æ…¢
- è°ƒåº¦å»¶è¿Ÿé«˜
- API å“åº”æ…¢

#### æ€§èƒ½è°ƒä¼˜

```bash
# ç›‘æ§ç³»ç»Ÿæ€§èƒ½
top
htop
iotop

# æ£€æŸ¥ JVM æ€§èƒ½
jstack <java-pid>
jmap -histo <java-pid>

# è°ƒæ•´ GC å‚æ•°
export JAVA_OPTS="-XX:+UseG1GC -XX:MaxGCPauseMillis=200"

# è°ƒæ•´è°ƒåº¦å™¨é…ç½®
vim config.yaml
# resourcemanager:
#   scheduler:
#     schedule_interval: "50ms"
#     max_allocation_attempts: 5
```

### å†…å­˜æ³„æ¼

#### ç—‡çŠ¶

- å†…å­˜ä½¿ç”¨æŒç»­å¢é•¿
- OutOfMemoryError é”™è¯¯
- è¿›ç¨‹è¢«ç³»ç»Ÿç»ˆæ­¢

#### è¯Šæ–­å’Œè§£å†³

```bash
# åˆ†æå†…å­˜ä½¿ç”¨
jmap -dump:format=b,file=heap.hprof <java-pid>

# ç›‘æ§å†…å­˜è¶‹åŠ¿
watch -n 5 "free -h"

# è°ƒæ•´å†…å­˜è®¾ç½®
vim config.yaml
# jvm:
#   heap_size: "4g"
#   gc_options: "-XX:+UseG1GC -XX:G1HeapRegionSize=16m"
```

### CPU ä½¿ç”¨ç‡é«˜

#### ç—‡çŠ¶

- CPU ä½¿ç”¨ç‡æŒç»­åœ¨é«˜ä½
- ç³»ç»Ÿå“åº”ç¼“æ…¢

#### è§£å†³æ–¹æ¡ˆ

```bash
# åˆ†æ CPU çƒ­ç‚¹
perf top
java -jar yourapp.jar -XX:+FlightRecorder

# è°ƒæ•´çº¿ç¨‹æ± é…ç½®
vim config.yaml
# threadpool:
#   core_size: 10
#   max_size: 50
#   queue_size: 1000

# é™åˆ¶èµ„æºä½¿ç”¨
# ä½¿ç”¨ cgroups é™åˆ¶ CPU ä½¿ç”¨
```

## ğŸ“Š ç›‘æ§é—®é¢˜

### æŒ‡æ ‡æ”¶é›†å¤±è´¥

#### ç—‡çŠ¶

- Prometheus æ— æ³•é‡‡é›†æŒ‡æ ‡
- Grafana æ˜¾ç¤ºæ— æ•°æ®

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥ Prometheus é…ç½®
vim prometheus.yml
# - job_name: 'carrot'
#   static_configs:
#   - targets: ['localhost:9090']

# æµ‹è¯•æŒ‡æ ‡ç«¯ç‚¹
curl http://localhost:9090/metrics

# æ£€æŸ¥ç½‘ç»œè¿æ¥
telnet localhost 9090

# é‡å¯ç›‘æ§æœåŠ¡
sudo systemctl restart prometheus
sudo systemctl restart grafana-rmserver
```

### å‘Šè­¦è§„åˆ™é—®é¢˜

#### ç—‡çŠ¶

- å‘Šè­¦ä¸è§¦å‘
- è¯¯æŠ¥å‘Šè­¦

#### è°ƒè¯•æ–¹æ³•

```bash
# éªŒè¯å‘Šè­¦è§„åˆ™è¯­æ³•
promtool check rules alert-rules.yml

# æµ‹è¯•å‘Šè­¦æ¡ä»¶
curl 'http://localhost:9090/api/v1/query?query=up{job="carrot"}'

# æ£€æŸ¥å‘Šè­¦çŠ¶æ€
curl http://localhost:9090/api/v1/alerts
```

## ğŸ” å®‰å…¨é—®é¢˜

### è®¤è¯å¤±è´¥

#### ç—‡çŠ¶

- JWT token éªŒè¯å¤±è´¥
- 401 Unauthorized é”™è¯¯

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥ token æ˜¯å¦è¿‡æœŸ
jwt-decode <token>

# éªŒè¯å¯†é’¥é…ç½®
vim config.yaml
# security:
#   authentication:
#     jwt:
#       secret_key: "your-secret-key"

# é‡æ–°ç”Ÿæˆ token
curl -X POST http://localhost:8088/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password"}'
```

### æƒé™æ‹’ç»

#### ç—‡çŠ¶

- 403 Forbidden é”™è¯¯
- æ— æƒé™è®¿é—®èµ„æº

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥ç”¨æˆ·æƒé™
curl http://localhost:8088/api/v1/user/permissions

# æ›´æ–° ACL é…ç½®
vim config.yaml
# security:
#   authorization:
#     admin_acl:
#       users: ["admin", "newuser"]

# é‡æ–°åŠ è½½é…ç½®
curl -X POST http://localhost:8088/api/v1/config/reload
```

## ğŸ³ éƒ¨ç½²é—®é¢˜

### Docker å®¹å™¨é—®é¢˜

#### ç—‡çŠ¶

- å®¹å™¨å¯åŠ¨å¤±è´¥
- å®¹å™¨å¼‚å¸¸é€€å‡º

#### è§£å†³æ–¹æ¡ˆ

```bash
# æ£€æŸ¥å®¹å™¨æ—¥å¿—
docker logs <container-id>

# æ£€æŸ¥å®¹å™¨èµ„æºé™åˆ¶
docker stats <container-id>

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it <container-id> /bin/bash

# æ£€æŸ¥é•œåƒ
docker inspect <image-name>

# é‡å»ºé•œåƒ
docker build --no-cache -t carrot:latest .
```

### Kubernetes éƒ¨ç½²é—®é¢˜

#### ç—‡çŠ¶

- Pod æ— æ³•å¯åŠ¨
- æœåŠ¡æ— æ³•è®¿é—®

#### è¯Šæ–­å‘½ä»¤

```bash
# æ£€æŸ¥ Pod çŠ¶æ€
kubectl get pods -o wide

# æŸ¥çœ‹ Pod æ—¥å¿—
kubectl logs <pod-name>

# æè¿° Pod è¯¦æƒ…
kubectl describe pod <pod-name>

# æ£€æŸ¥æœåŠ¡
kubectl get svc
kubectl describe svc <service-name>

# æ£€æŸ¥é…ç½®
kubectl get configmap
kubectl describe configmap <configmap-name>
```

## ğŸ› ï¸ è¯Šæ–­å·¥å…·

### å†…ç½®è¯Šæ–­å‘½ä»¤

```bash
# å¥åº·æ£€æŸ¥
carrot health check --all

# é…ç½®éªŒè¯
carrot config validate --config config.yaml

# è¿æ¥æµ‹è¯•
carrot network test --target <host:port>

# æ€§èƒ½åˆ†æ
carrot perf analyze --duration 60s
```

### ç¬¬ä¸‰æ–¹å·¥å…·

#### ç³»ç»Ÿç›‘æ§

```bash
# htop - è¿›ç¨‹ç›‘æ§
sudo apt install htop
htop

# iotop - IO ç›‘æ§
sudo apt install iotop
sudo iotop

# netstat - ç½‘ç»œç›‘æ§
netstat -tuln
ss -tuln
```

#### åº”ç”¨ç›‘æ§

```bash
# jstack - Java çº¿ç¨‹dump
jstack <java-pid>

# jmap - Java å†…å­˜åˆ†æ
jmap -histo <java-pid>
jmap -dump:format=b,file=heap.hprof <java-pid>

# jstat - JVM ç»Ÿè®¡
jstat -gc <java-pid> 1s
```

### æ—¥å¿—åˆ†æè„šæœ¬

```bash
#!/bin/bash
# analyze-logs.sh

LOG_FILE="$1"

echo "=== Error Analysis ==="
grep -i "error\|exception\|failed" "$LOG_FILE" | head -20

echo "=== Warning Analysis ==="
grep -i "warn" "$LOG_FILE" | head -10

echo "=== Performance Analysis ==="
grep -i "slow\|timeout\|delay" "$LOG_FILE" | head -10

echo "=== Connection Analysis ==="
grep -i "connect\|disconnect\|timeout" "$LOG_FILE" | head -10
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](./ç³»ç»Ÿæ¶æ„.md) - ç†è§£ç³»ç»Ÿè®¾è®¡
- [âš™ï¸ é…ç½®å‚è€ƒ](./é…ç½®å‚è€ƒ.md) - é…ç½®é€‰é¡¹è¯¦è§£
- [ğŸ“Š API å‚è€ƒ](./APIå‚è€ƒ.md) - API ä½¿ç”¨è¯´æ˜
- [ğŸ“– æ ¸å¿ƒæ¦‚å¿µ](./æ ¸å¿ƒæ¦‚å¿µ.md) - ç†è§£åŸºæœ¬æ¦‚å¿µ
